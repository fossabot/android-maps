package org.itstep.liannoi.maps.application.common.maps

import com.google.android.gms.maps.model.LatLng
import org.itstep.liannoi.maps.application.common.interfaces.Disposable

interface MapClient : Disposable {

    ///////////////////////////////////////////////////////////////////////////
    // Permissions
    ///////////////////////////////////////////////////////////////////////////

    fun request(notification: LocationProvider.FineLocationNotification)

    ///////////////////////////////////////////////////////////////////////////
    // Map
    ///////////////////////////////////////////////////////////////////////////

    fun prepare(notification: MapClickNotification)

    ///////////////////////////////////////////////////////////////////////////
    // Shapes
    ///////////////////////////////////////////////////////////////////////////

    fun marker(latLng: LatLng)

    fun polyline(latest: List<LatLng>)

    ///////////////////////////////////////////////////////////////////////////
    // Roulette
    ///////////////////////////////////////////////////////////////////////////

    fun commit(latLng: LatLng)

    fun markedCommit(latLng: LatLng)

    fun measure(): Double

    ///////////////////////////////////////////////////////////////////////////
    // Internal members
    ///////////////////////////////////////////////////////////////////////////

    interface MapClickNotification {

        fun onClick(latLng: LatLng)
    }
}
